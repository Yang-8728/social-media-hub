# data/ - 数据存储目录

这个目录用于存储项目运行时产生的所有数据文件，包括下载内容、日志记录和处理结果。

## 📁 目录结构

```
data/
├── downloads/              # 原始下载文件
│   └── (按账户和日期组织的下载内容)
├── merged/                # 合并后的视频文件
│   └── (处理完成的合并视频)
└── download_logs/         # 下载记录和元数据
    └── test_account_downloads.json
```

## 📂 目录说明

### downloads/ - 下载存储
- **用途**: 存储从各平台下载的原始媒体文件
- **组织方式**: 按账户名和日期自动创建子目录
- **文件类型**: 图片、视频、音频等多媒体文件
- **路径格式**: `downloads/{account_name}/{date}/`

### merged/ - 处理结果
- **用途**: 存储经过处理和合并的视频文件
- **特点**: 文件已经过分辨率标准化和质量优化
- **命名规则**: 包含时间戳和来源信息
- **格式**: 主要为MP4格式，确保兼容性

### download_logs/ - 操作记录
- **用途**: 记录下载历史、状态和元数据
- **格式**: JSON格式，便于程序读取和分析
- **内容**: 下载时间、文件路径、状态信息等
- **备份**: 重要操作记录，建议定期备份

## 🔧 管理功能

### 自动路径管理
- **Unicode路径修复**: 自动检测和修复路径问题
- **目录创建**: 根据需要自动创建子目录
- **文件迁移**: 智能移动文件到正确位置

### 空间管理
- **大文件监控**: 定期检查大文件占用情况
- **清理策略**: 可配置的文件保留和清理规则
- **压缩存储**: 对旧文件进行压缩存储

## ⚠️ 重要提醒

### 备份建议
- **定期备份**: 重要下载内容建议定期备份
- **云存储**: 考虑使用云存储服务同步重要文件
- **版本控制**: 日志文件可考虑版本控制管理

### 空间管理
- **监控使用**: 定期检查磁盘空间使用情况
- **清理策略**: 及时清理不需要的临时文件
- **存储优化**: 大文件可考虑外部存储或压缩

## 🔍 使用技巧

1. **路径问题**: 如遇到文件找不到，运行 `tools/scripts/fix_unicode_paths.py`
2. **空间不足**: 检查merged/目录中的大文件，清理不需要的内容
3. **日志分析**: download_logs/中的JSON文件包含详细的操作记录
4. **批量操作**: 使用项目提供的工具脚本进行批量文件管理

## 📊 数据统计

当前目录状态会在项目分析报告中显示，包括：
- 文件总数和大小统计
- 各目录使用情况
- 最近活动记录
- 潜在的清理建议
